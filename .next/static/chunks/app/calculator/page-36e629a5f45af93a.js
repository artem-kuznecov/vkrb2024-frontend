(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[179],{179:function(e,t,n){Promise.resolve().then(n.bind(n,1517))},8030:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2265);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&n.indexOf(e)===t).join(" ")};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:l="",children:u,iconNode:h,...o}=e;return(0,r.createElement)("svg",{ref:t,...s,width:i,height:i,stroke:n,strokeWidth:c?24*Number(d)/Number(i):d,className:a("lucide",l),...o},[...h.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]])}),c=(e,t)=>{let n=(0,r.forwardRef)((n,s)=>{let{className:c,...l}=n;return(0,r.createElement)(d,{ref:s,iconNode:t,className:a("lucide-".concat(i(e)),c),...l})});return n.displayName="".concat(e),n}},1517:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(7437),i=n(6548),a=n.n(i),s=n(2265),d=n(8030);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]),l=(0,d.Z)("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),u=(0,d.Z)("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]),h=(0,d.Z)("SquareDivide",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}],["line",{x1:"12",x2:"12",y1:"16",y2:"16",key:"aqc6ln"}],["line",{x1:"12",x2:"12",y1:"8",y2:"8",key:"1mkcni"}]]),o=(0,d.Z)("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),x=(0,d.Z)("SquareRadical",[["path",{d:"M7 12h2l2 5 2-10h4",key:"1fxv6h"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]);var p=n(4715),j=n(5262),f=n.n(j);let y=()=>(0,r.jsx)("div",{className:f().spinner,children:(0,r.jsx)("div",{"data-inner-circle":!0})});var v=n(2650),k=n(3375),m=n(3444),b=()=>{let{kbValue:e,setKbValue:t}=(0,s.useContext)(v.k),[n,i]=(0,s.useState)(""),[d,j]=(0,s.useState)({input:{},output:[]}),[f,b]=(0,s.useState)([]),[g,w]=(0,s.useState)([]),[_,C]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),Z=(e,t)=>{let n=d,r=e.target;if("output-checkbox"===r.name&&(n=!0===r.checked?{...d,output:[...d.output,t.id]}:{...d,output:d.output.filter(e=>e!==t.id)}),"input-checkbox"===r.name){if(r.value)n={...n,input:{...n.input,[t.id]:r.value}};else{let e=n.input;delete e[t.id],n={...d,input:e}}}j(n)},M=e=>{e.preventDefault(),S(!0),(0,m.B5)(n,d).then(e=>{w(e.data),S(!1)}),document.querySelectorAll("input").forEach(e=>{e.value="",e.checked=!1}),j({input:{},output:[]})};return(0,s.useEffect)(()=>{n&&(C(!0),(0,m.rO)(n).then(e=>e.data).then(e=>{b(e),C(!1)}))},[n]),(0,s.useEffect)(()=>{if(!e.length||e){let e=(0,k.getCookie)("username");(0,m.X1)(e).then(e=>e.data).then(e=>{t(e)})}}),(0,r.jsxs)("div",{className:a().calculator,children:[(0,r.jsx)(p.h,{text:"Калькулятор"}),(0,r.jsxs)("span",{"data-content-wrapper":!0,children:[(0,r.jsx)("div",{"data-content":!0,children:(0,r.jsxs)("div",{"data-knowledgebase-selection":!0,children:[(0,r.jsx)("h2",{children:"Выберите базу знаний:"}),(0,r.jsx)("ul",{children:e.map(e=>(0,r.jsx)("li",{"data-chosen":n===e.uuid,onClick:()=>i(e.uuid),children:(0,r.jsx)("p",{children:e.shortName})},e.uuid+"_kb"))})]})}),(0,r.jsxs)("span",{style:{width:"60%"},children:[(0,r.jsx)("div",{"data-calculator":!0,children:_?(0,r.jsx)(y,{}):(0,r.jsx)(r.Fragment,{children:f.length?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Имя"}),(0,r.jsx)("th",{children:"Тип"}),(0,r.jsx)("th",{children:"Значение"}),(0,r.jsx)("th",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:(0,r.jsx)("button",{disabled:!Object.keys(d.input).length||!d.output.length,onClick:e=>M(e),children:"Расчет"})})]})}),(0,r.jsx)("tbody",{children:f.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.shortName}),(0,r.jsx)("td",{children:e.type}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",disabled:d.output.some(t=>t===e.id),name:"input-checkbox",placeholder:"Значение",onChange:t=>Z(t,e)})}),(0,r.jsx)("td",{children:(0,r.jsxs)("div",{"data-checkbox-holder":!0,children:[(0,r.jsx)("input",{id:e.uuid+"_input",type:"checkbox",disabled:Object.keys(d.input).some(t=>t===e.id),name:"output-checkbox",onChange:t=>Z(t,e)}),(0,r.jsx)("label",{htmlFor:e.uuid+"_input",children:"Рассчитать"})]})})]},e.uuid+"_row"))})]})}):(0,r.jsxs)("div",{"data-no-kb-chosen":!0,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c,{}),(0,r.jsx)(l,{}),(0,r.jsx)(u,{})]}),(0,r.jsx)("p",{children:"База знаний не выбрана"})]})})}),(0,r.jsx)("div",{"data-answers":!0,children:N?(0,r.jsx)(y,{}):(0,r.jsx)(r.Fragment,{children:g.found&&Object.keys(g.found).length?(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"UUID"}),(0,r.jsx)("th",{children:"Имя"}),(0,r.jsx)("th",{children:"Значение"})]})}),Object.keys(g.found).map(e=>{let t=f.find(t=>t.id===e);return(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t.id}),(0,r.jsx)("td",{children:t.shortName}),(0,r.jsx)("td",{children:g.found[e]})]})},t.uuid+"_answer")})]}):(0,r.jsxs)("div",{"data-no-response":!0,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{}),(0,r.jsx)(o,{}),(0,r.jsx)(x,{})]}),(0,r.jsx)("p",{children:"Результатов пока нет"})]})})})]})]})]})}},2650:function(e,t,n){"use strict";n.d(t,{C:function(){return s},k:function(){return a}});var r=n(7437),i=n(2265);let a=(0,i.createContext)({}),s=e=>{let{children:t}=e,[n,s]=(0,i.useState)([]);return(0,r.jsx)(a.Provider,{value:{kbValue:n,setKbValue:s},children:t})}},4715:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(7437),i=n(8826),a=n.n(i);let s=e=>{let{text:t}=e;return(0,r.jsxs)("div",{className:a().header,children:[(0,r.jsx)("h1",{children:t}),(0,r.jsx)("div",{"data-border-bottom":!0})]})}},3444:function(e,t,n){"use strict";n.d(t,{B5:function(){return d},X1:function(){return i},rO:function(){return s},yf:function(){return a}});var r=n(8472);async function i(e){return(await r.Z.get("http://127.0.0.1:8080/api/mlv"+"?username=".concat(e))).data}async function a(e){return(await r.Z.post("http://127.0.0.1:8080/api/mlv",e)).data}async function s(e){return(await r.Z.get("http://127.0.0.1:8080/api/mlv"+"/parameters/".concat(e))).data}async function d(e,t){return(await r.Z.post("http://127.0.0.1:8080/api/mlv"+"/calculate/".concat(e),t)).data}},6548:function(e){e.exports={calculator:"Calculator_calculator__NGYM9"}},5262:function(e){e.exports={spinner:"Spinner_spinner__bHOVq",rotation:"Spinner_rotation__Uvpmr"}},8826:function(e){e.exports={header:"Header_header__MVpr3"}}},function(e){e.O(0,[735,39,971,23,744],function(){return e(e.s=179)}),_N_E=e.O()}]);