(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3603:function(t,e,a){Promise.resolve().then(a.bind(a,6549))},6549:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return j}});var n=a(7437),r=a(1076),s=a.n(r),i=a(2265),d=a(8002),o=a(3375),c=a(6235),u=a(4715),l=a(3282),p=a.n(l),h=a(9406);let f=t=>{let{text:e}=t;return(0,n.jsxs)("div",{className:p().empty_data,children:[(0,n.jsx)(h.Z,{}),(0,n.jsx)("p",{children:e})]})};var x=a(3444),m=a(2650),j=()=>{let{setKbValue:t}=(0,i.useContext)(m.k),[e,a]=(0,i.useState)(!1),[r,l]=(0,i.useState)([]),p=t=>{let e=t.target,a=e.closest("span[data-open]:not([data-icon])"),n=a.querySelector("div[data-info]"),r="true"===a.dataset.open;e.dataset.open=String(!r),a.dataset.open=String(!r),n.dataset.open=String(!r)},h=async t=>{var e;let n=new FormData;n.append("file",null===(e=t.target.files)||void 0===e?void 0:e.item(0)),n.append("username",(0,o.getCookie)("username")),(0,x.yf)(n).then(t=>{console.log(t),a(t=>!t)}),t.target.value=""};return(0,i.useEffect)(()=>{let e=(0,o.getCookie)("username");(0,x.X1)(e).then(t=>t.data).then(e=>{l(e),t(e)})},[e,t]),(0,n.jsxs)("div",{className:s().dashboard,children:[(0,n.jsx)(u.h,{text:"Дашборд"}),(0,n.jsxs)("form",{children:[(0,n.jsx)("input",{id:"knowledgebase-input",type:"file",accept:".yaml, .yml",hidden:!0,onChange:t=>h(t)}),(0,n.jsx)("label",{htmlFor:"knowledgebase-input",children:"Загрузить базу знаний"})]}),(0,n.jsx)("div",{"data-grid":!0,children:r.length?r.map(t=>(0,n.jsxs)("span",{"data-open":!1,children:[(0,n.jsxs)("div",{"data-header":!0,children:[(0,n.jsx)("h2",{children:t.shortName}),(0,n.jsxs)("span",{"data-icon":!0,"data-open":!1,onClick:t=>p(t),children:[(0,n.jsx)(d.Z,{"data-left":!0}),(0,n.jsx)(d.Z,{"data-right":!0})]})]}),(0,n.jsxs)("div",{"data-info":!0,"data-open":!1,children:[(0,n.jsxs)("p",{children:["Количество параметров: ",t.parametersCount]}),(0,n.jsxs)("p",{children:["Добавлена ",(0,c.WU)(Date.parse(t.uploadedDate),"dd.MM.yyyy")]}),(0,n.jsxs)("p",{"data-description":!0,children:["UUID: ",t.uuid]})]})]},t.uuid)):(0,n.jsx)(f,{text:"У вас пока нет загруженных баз знаний"})})]})}},2650:function(t,e,a){"use strict";a.d(e,{C:function(){return i},k:function(){return s}});var n=a(7437),r=a(2265);let s=(0,r.createContext)({}),i=t=>{let{children:e}=t,[a,i]=(0,r.useState)([]);return(0,n.jsx)(s.Provider,{value:{kbValue:a,setKbValue:i},children:e})}},4715:function(t,e,a){"use strict";a.d(e,{h:function(){return i}});var n=a(7437),r=a(8826),s=a.n(r);let i=t=>{let{text:e}=t;return(0,n.jsxs)("div",{className:s().header,children:[(0,n.jsx)("h1",{children:e}),(0,n.jsx)("div",{"data-border-bottom":!0})]})}},3444:function(t,e,a){"use strict";a.d(e,{B5:function(){return d},X1:function(){return r},rO:function(){return i},yf:function(){return s}});var n=a(8472);async function r(t){return(await n.Z.get("http://127.0.0.1:8080/api/mlv"+"?username=".concat(t))).data}async function s(t){return(await n.Z.post("http://127.0.0.1:8080/api/mlv",t)).data}async function i(t){return(await n.Z.get("http://127.0.0.1:8080/api/mlv"+"/parameters/".concat(t))).data}async function d(t,e){return(await n.Z.post("http://127.0.0.1:8080/api/mlv"+"/calculate/".concat(t),e)).data}},1076:function(t){t.exports={dashboard:"page_dashboard__Vt06J"}},3282:function(t){t.exports={empty_data:"EmptyData_empty_data__yHFLT"}},8826:function(t){t.exports={header:"Header_header__MVpr3"}}},function(t){t.O(0,[263,735,39,530,971,23,744],function(){return t(t.s=3603)}),_N_E=t.O()}]);